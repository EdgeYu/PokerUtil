# 扑克牌型分析工具 (poker-rutil)

一个基于React + TypeScript开发的德州扑克牌型分析工具，能够实时分析扑克牌型、计算胜率，并提供详细的牌型比较功能。

## 🎯 功能特性

### 核心功能
- **实时牌型识别**：自动识别皇家同花顺、同花顺、四条、葫芦等所有德州扑克牌型
- **牌型比较系统**：严格按照德州扑克规则进行牌型比较，支持同牌型间的精确比较
- **胜率计算**：基于蒙特卡洛模拟计算实时胜率
- **多维度分析**：提供当前最大牌型、未来最大牌型和对手可能牌型分析

### 特色功能
- **智能牌型预测**：考虑未出现的河牌，预测未来可能的最佳牌型
- **对手牌型模拟**：模拟对手可能的手牌组合，分析对手最大牌型
- **可视化标记**：使用颜色标记区分公牌、手牌和未出现牌
- **响应式界面**：适配不同屏幕尺寸的现代化UI设计

## 🚀 快速开始

### 环境要求
- Node.js 16.0+
- npm 或 yarn

### 安装步骤
```bash
# 克隆项目
git clone <repository-url>
cd poker-rutil

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 构建部署
```bash
# 构建生产版本
npm run build

# 预览生产版本
npm run preview
```

## 📱 使用指南

### 基本操作
1. **选择手牌**：从右侧牌库中选择2张手牌
2. **选择公牌**：继续选择3-5张公牌（翻牌、转牌、河牌）
3. **自动分析**：系统会自动计算并显示分析结果

### 分析结果解读

#### 1. 我的目前最大牌型
- 基于当前已出现的所有牌（手牌+公牌）计算的最佳5张牌组合
- 显示具体的牌型和组成牌张

#### 2. 我未来的最大牌型
- 考虑未出现的河牌，预测可能的最佳牌型
- 当公牌为3张时，模拟2张未知牌的所有可能组合
- 当公牌为4张时，模拟1张未知牌的所有可能组合

#### 3. 对手可能的最大牌型
- 模拟对手可能的手牌组合
- 考虑所有未出现的牌作为对手手牌的可能性
- 显示对手可能的最佳牌型组合

### 牌型标记说明
- 🔵 蓝色圆点：公牌（社区牌）
- 🟠 橙色圆点：未出现的牌（对手手牌或未来河牌）
- 无标记：玩家手牌

## 🎴 牌型规则

### 牌型优先级（从高到低）
1. **皇家同花顺** (Royal Flush) - A,K,Q,J,10同花
2. **同花顺** (Straight Flush) - 五张连续同花牌
3. **四条** (Four of a Kind) - 四张相同点数牌
4. **葫芦** (Full House) - 三条加一对
5. **同花** (Flush) - 五张同花牌
6. **顺子** (Straight) - 五张连续牌
7. **三条** (Three of a Kind) - 三张相同点数牌
8. **两对** (Two Pair) - 两个不同的对子
9. **一对** (One Pair) - 一对相同点数牌
10. **高牌** (High Card) - 无以上牌型，比较最高牌

### 同牌型比较规则
- **同花顺**：比较最高牌值，A-5顺子作为下顺处理
- **四条**：先比较四条的值，再比较踢脚
- **葫芦**：先比较三条的值，再比较对子的值
- **三条**：比较三条的值，再比较剩余牌
- **两对**：先比较大对子，再比较小对子，最后比较踢脚
- **一对**：比较对子值，再比较剩余三张牌
- **高牌/同花**：按牌值从大到小依次比较

## 🏗️ 项目结构

```
src/
├── pages/
│   ├── PokerPage.tsx          # 主扑克页面
│   └── PokerAnalyzerPage.tsx  # 牌型分析页面（核心功能）
├── types/                      # 类型定义
└── App.tsx                    # 应用入口
```

### 核心算法文件
- `PokerAnalyzerPage.tsx` - 包含所有牌型分析逻辑
- 主要函数：
  - `getDetailedHandScore()` - 牌型评分系统
  - `calculateHandStrength()` - 牌型识别
  - `getBestHand()` - 最佳牌型计算
  - `compareHands()` - 牌型比较

## 🔧 技术栈

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite
- **样式**：Tailwind CSS
- **路由**：React Router
- **开发工具**：ESLint + Prettier

## 🎮 使用场景

### 德州扑克学习
- 理解各种牌型的形成条件和比较规则
- 学习牌型概率和胜率计算

### 实战分析
- 实时分析当前手牌的牌力
- 预测未来牌型发展的可能性
- 评估对手可能的牌型范围

### 策略研究
- 研究不同位置和牌面的最佳策略
- 分析牌型演变对胜率的影响

## 📊 算法说明

### 牌型识别算法
使用组合数学方法，从所有可能的5张牌组合中找出最佳牌型：
- 生成C(n,5)种组合（n为可用牌数量）
- 对每种组合进行牌型识别和评分
- 选择评分最高的组合作为最佳牌型

### 胜率计算
采用蒙特卡洛模拟：
- 模拟大量随机发牌场景
- 统计获胜、平局和失败的次数
- 根据公牌数量调整模拟精度

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发流程
1. Fork本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建Pull Request

## 📄 许可证

本项目采用MIT许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

感谢所有为这个项目做出贡献的开发者！

---

**注意**：本工具仅供学习和娱乐用途，请勿用于真实货币的扑克游戏。